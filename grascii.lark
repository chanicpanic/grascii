
// todo
// move terms to rules to allow for ambigation resolution
// with overlapping terminals
//
// refine aspirates: before after root, before consonants
//
// add NG NK, X, Z ?
// Hook vowel orientation
// W placement
// intersection?
// priorities?
// S, TH, SH alt. pronunciations
// add LD
// reduce priority of NG, NK
// expand terminals





start : _preroot? _root _postroot?
_preroot : prefix DISJOINER
_postroot : DISJOINER suffix
DISJOINER : "^"

_root : (_letter | ASPIRATE | _root "-"? _letter) ASPIRATE?

prefix : _root 
suffix : _root

_letter : consonant | ( ASPIRATE? vowel )

consonant : standard_consonant
	| blended_consonant
	| annotatable_consonant	
	//| distinguishable_consonant

//standard_consonant : STANDARD_CONSONANT | NGK

standard_consonant : K | G | R | L | N | M
	| T | D | P | B | F | V
	| CH | J | X //| NG | NK

//NGK : "NG" | "NK"

//STANDARD_CONSONANT : "K" | "G" | "R" | "L" | "N" | "M"
//	| "T" | "D" | "P" | "B" | "F" | "V" | "CH" | "J"

//blended_consonant : BLENDED_CONSONANT

blended_consonant.2 : TN | DN | TM | DM
	| NT | MT | ND | MD
	| DF | DV | TV
	| JNT | JND | PND | PNT
	| SS | XS 
	| MN | MM
	| DT | TD | DD
	| NG | NK
	| LD

//BLENDED_CONSONANT : "TN" | "DN" | "TM" | "DM"
//	| "NT" | "MT" | "ND" | "MD"
//	| "DF" | "DV" | "TV" 
//	| "JNT" | "JND" | "PND" | "PNT"
//	| "SS" | "XS"
//	| "MN" | "MM"
//	| "DT" | "TD" | "DD"

K : "K"
G : "G"
R : "R"
L : "L"
N : "N"
M : "M"
T : "T"
D : "D"
P : "P"
B : "B"
F : "F"
V : "V"
CH : "CH"
J : "J"
S : "S"
Z : "Z"
X : "X"
LD : "LD"
NG : "NG"
NK : "NK"
TN : "TN"
DN : "DN"
TM : "TM"
DM : "DM"
NT : "NT"
MT : "MT"
ND : "ND"
MD : "MD"
DF : "DF"
DV : "DV"
TV : "TV"
JNT : "JNT"
JND : "JND"
PND : "PND"
PNT : "PNT"
SS : "SS"
XS : "XS"
MN : "MN"
MM : "MM"
DT : "DT"
TD : "TD"
DD : "DD"
SH : "SH"
TH : "TH"
A : "A"
E : "E"
O : "O"
U : "U"
I : "I"
EA : "A&'"
// change to AE?
AE : "A&E"
EU : "EU"
AU : "AU"
OE : "OE"



//distinguishable_consonant : directed_consonant | sh

annotatable_consonant : directed_consonant | oblique_consonant

directed_consonant : ( S | Z | TH ) direction?

direction : LEFT | RIGHT

oblique_consonant : ( directed_consonant | SH ) OBLIQUE?

LEFT : "("
RIGHT : ")"

//SH : "SH"
OBLIQUE : ","

//sh : SH OBLIQUE?

//directed_consonant : DIRECTED_CONSONANT DIRECTION? OBLIQUE?

//DIRECTED_CONSONANT : "S" | "Z" | "TH"
//DIRECTION : ")" | "("

vowel : ( circle_vowel | hook_vowel | diphthong ) WUNDERBAR?

ASPIRATE : "'"
WUNDERBAR : "_"

//circle_vowel : CIRCLE_VOWEL CIRCLE_VOWEL_MODIFIER*

circle_vowel : ( A | E ) REVERSE? LOOP? sound? //WUNDERBAR?

sound : MEDIUM_SOUND | LONG_SOUND

MEDIUM_SOUND : "."
LONG_SOUND : ","
REVERSE : "~"
LOOP : "|"

//CIRCLE_VOWEL : "A" | "E"
//CIRCLE_VOWEL_MODIFIER : "." | "," | "~" | "|" | WUNDERBAR

//hook_vowel : HOOK_VOWEL HOOK_VOWEL_MODIFIER*

hook_vowel : ( O LEFT? | U RIGHT? ) sound? //WUNDERBAR?

//HOOK_VOWEL : "O" | "U"
//HOOK_VOWEL_MODIFIER : "." | "," | WUNDERBAR

//diphthong : ( DIPHTHONG WUNDERBAR? ) | ( I I_MODIFIERS* )
//I : "I"
diphthong.2 : circle_diphthong | hook_diphthong

circle_diphthong : ( AE | EA ) REVERSE?
	| I REVERSE? LOOP?
 
hook_diphthong : EU | AU | OE

//I_MODIFIERS : "~" | "|" | WUNDERBAR
//DIPHTHONG : "EU" | "AU" | "OE" | "A&'" | "A&E"

%ignore " "











